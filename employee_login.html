<!DOCTYPE html>
<html>
<head>
    <title>Employee Portal - Los Pollos Hermanos</title>
    <style>
        body { font-family: Arial; background: #FFC107; min-height: 100vh; display: flex; align-items: center; justify-content: center; margin: 0; }
        .container { background: white; padding: 40px; border-radius: 10px; box-shadow: 0 10px 30px rgba(0,0,0,0.2); width: 350px; }
        h1 { color: #D32F2F; text-align: center; }
        .logo { text-align: center; margin-bottom: 20px; }
        .logo img { max-width: 120px; }
        input { width: 100%; padding: 12px; margin: 10px 0; border: 2px solid #ddd; border-radius: 5px; box-sizing: border-box; }
        button { width: 100%; padding: 12px; background: #D32F2F; color: white; border: none; border-radius: 5px; cursor: pointer; font-size: 16px; }
        button:hover { background: #B71C1C; }
        #result { margin-top: 20px; padding: 15px; border-radius: 5px; display: none; }
        .success { background: #E8F5E9; border: 1px solid #4CAF50; color: #2E7D32; display: block !important; }
        .error { background: #FFEBEE; border: 1px solid #F44336; color: #C62828; display: block !important; }
        .flag { background: #1a1a2e; color: #00ff00; padding: 15px; font-family: monospace; font-size: 18px; border-radius: 5px; margin-top: 10px; text-align: center; }
    </style>
</head>
<body>
    <div class="container">
        <div class="logo"><img src="polloshermanoslogo.png" alt="Logo"></div>
        <h1>Employee Portal</h1>
        <form id="loginForm">
            <input type="text" id="username" placeholder="Username" required>
            <input type="password" id="password" placeholder="Password" required>
            <button type="submit">Sign In</button>
        </form>
        <div id="result"></div>
    </div>
    <script>
        document.getElementById('loginForm').onsubmit = async function(e) {
            e.preventDefault();
            const res = await fetch('/vulnerable_login.php', {
                method: 'POST',
                headers: {'Content-Type': 'application/json'},
                body: JSON.stringify({
                    username: document.getElementById('username').value,
                    password: document.getElementById('password').value
                })
            });
            const data = await res.json();
            const el = document.getElementById('result');
            if (data.success) {
                el.className = 'success';
                el.innerHTML = '<strong>✓ Access Granted!</strong>' + (data.flag ? '<div class="flag">' + data.flag + '</div>' : '');
            } else {
                el.className = 'error';
                el.innerHTML = '<strong>✗ ' + data.message + '</strong>';
            }
        };
    </script>
</body>
</html>
